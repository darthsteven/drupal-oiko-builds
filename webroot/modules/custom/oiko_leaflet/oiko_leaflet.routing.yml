
oiko_leaflet.popup_content_controller_view:
  path: '/cidoc-entity/{cidoc_entity}/popup'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\PopupContentController::view'
    _title: 'cidocCRMPopupConent'
  requirements:
    cidoc_entity: '\d+'
    _entity_access: 'cidoc_entity.view'

oiko_leaflet.popup_discussion_controller_view:
  path: '/discussion/{cidoc_entity}/popup'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\PopupDiscussionController::view'
    _title: 'cidocCRMPopupDiscussion'
  requirements:
    cidoc_entity: '\d+'
    _entity_access: 'cidoc_entity.view'

oiko_leaflet.related_markers:
  path: '/cidoc-entity/{cidoc_entity}/related-markers.json'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\RelatedMapMarkersController::fetch'
    _title: 'cidocRelatedMarkers'
  requirements:
    cidoc_entity: '\d+'
    _entity_access: 'cidoc_entity.view'

oiko_leaflet.map_page_controller_baseMap:
  path: '/oiko_leaflet/map'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\MapPageController::baseMap'
    _title: 'Render a fully-featured map'
  requirements:
    _permission: 'view published cidoc entities'

oiko_leaflet.map_page_controller_allEntities:
  path: '/oiko_leaflet/map/entities.json'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\MapPageController::allEntitiesForMap'
    _title: 'Fetch the entities for items on a map'
  requirements:
    _permission: 'view published cidoc entities'

oiko_leaflet.map_page_controller_unpublishedEntities:
  path: '/oiko_leaflet/map/own-entities.json'
  defaults:
    _controller: '\Drupal\oiko_leaflet\Controller\MapPageController::ownEntitiesForMap'
    _title: 'Fetch the entities for items on a map (unpublished)'
  requirements:
     # @TODO: Sort the permissions here.
    _permission: 'view published cidoc entities'

oiko_leaflet.leaflet_settings_form:
  path: '/admin/config/oiko_leaflet/leafletsettings'
  defaults:
    _form: '\Drupal\oiko_leaflet\Form\LeafletSettingsForm'
    _title: 'Leaflet Settings'
  requirements:
    _permission: 'administer leaflet'
  options:
    _admin_route: TRUE
